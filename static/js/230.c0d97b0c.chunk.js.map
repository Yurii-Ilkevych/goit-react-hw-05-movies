{"version":3,"file":"static/js/230.c0d97b0c.chunk.js","mappings":"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","sources":["components/APi/fetchMovieDetails.js","pages/MovieDetails.styled.js","pages/MovieDetails.js"],"sourcesContent":["import axios from 'axios';\n\nconst fetchMovieDetails= async(id)=> {\n    const options = {\n        method: 'GET',\n        headers: {\n          accept: 'application/json',\n          Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1YWI4YTU2N2U4NTIwYjJkOTYxNmQyYjU1NGY1MGI4MyIsInN1YiI6IjY0Nzg5MDY0MDc2Y2U4MDEwNzliOGMxNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.2ia6cdeIOjpNaTQl8aCiS1rstAtEfICJgybU1GCz5mQ'\n        }\n      };\ntry {\n    const result = await axios.get(`https://api.themoviedb.org/3/movie/${id}?language=en-US`, options)\n    return result\n} catch (error) {\nreturn error\n}\n\n\n    }\n\n    export default fetchMovieDetails","import styled from '@emotion/styled'\nimport { Link } from 'react-router-dom'\n\nconst GoBack = styled(Link)`\ntext-decoration: none;\n  color: rgb(99, 18, 18);\nfont-size: large;\nfont-weight: 700;\n&:hover {\n    color: rgb(140, 81, 81);;\n}\n`\n\nconst Wrapper = styled.div`\npadding: 10px 0px 10px 0px;\nborder-bottom: 1px solid black;\n`\n\nconst LinkMovie = styled(Link)`\ntext-decoration: none;\n  color: rgb(99, 18, 18);\n&:hover {\n    color: rgb(140, 81, 81);;\n}\n`\nconst WrapperUl = styled.ul`\nlist-style: none;\npadding: 10px 0px 10px 0px;\nborder-bottom: 1px solid black;\n`\nexport {GoBack, Wrapper, LinkMovie, WrapperUl}","import { Outlet, useParams, useLocation } from 'react-router-dom';\nimport { useEffect, useState, Suspense } from 'react';\nimport fetchMovieDetails from '../components/APi/fetchMovieDetails';\nimport defaultPoster from \"./img/Frame770814.png\"\nimport { GoBack, Wrapper, LinkMovie, WrapperUl } from './MovieDetails.styled';\nimport PropTypes from 'prop-types';\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [statusPending, setStatusPending] = useState(false);\n  const [errorServer, setErrorServer] = useState(false);\n  const [linkBack, setLinkBack] = useState(\"/\")\n  const { movieId } = useParams();\n  const location = useLocation();\n\n\n  useEffect(() => {\nif(!location.state?.from){\n  return\n}\n    const goBack = location.state?.from ?? '/';\n    setLinkBack(goBack)\n    fetchMovieDetails(movieId).then(result => {\n      if (result) {\n        setMovie(result.data);\n        setStatusPending(true);\n        return;\n      } else if (!result) setMovie(null);\n      setErrorServer(true);\n    });\n\n    return () => {\n      setErrorServer(false);\n    };\n  }, [location.state?.from, movieId]);\n\n  const getImg = movie => {\n    const { backdrop_path, poster_path } = movie;\n    if (poster_path) {\n      return `https://image.tmdb.org/t/p/original/${poster_path}`;\n    } else if (backdrop_path) {\n      return `https://image.tmdb.org/t/p/original/${backdrop_path}`;\n    }else{return defaultPoster}\n  };\n  const getTitle = movie => {\n    const { title, name } = movie;\n    if (title) {\n      return title;\n    } else if (name) {\n      return name;\n    } else {\n      return 'No name';\n    }\n  };\n  const getUserScore = userScore => {\n    if (userScore) {\n      return `${(userScore * 10).toFixed()}%`;\n    } else {\n      return 'No user score';\n    }\n  };\n  const getOwerviev = overview => {\n    if (overview) {\n      return overview;\n    } else {\n      return 'No owerview';\n    }\n  };\n  const getGenre = genres => {\n    if (genres) {\n      const genresMovie = genres.map(genre => genre.name);\n      return genresMovie.join(', ');\n    } else {\n      return 'No genre';\n    }\n  };\n  const getYear = ({ release_date, first_air_date }) => {\n    if (release_date) {\n      return release_date.split('').slice(0, 4).join('');\n    } else if (first_air_date) {\n      return first_air_date.split('').slice(0, 4).join('');\n    } else {\n      return 'No date';\n    }\n  };\n  return (\n    <div>\n      <GoBack to={linkBack}>‚Üê go back</GoBack>\n      {statusPending ? (\n        <Wrapper>\n          <div>\n            <img\n              src={getImg(movie)}\n              alt={getTitle(movie)}\n              width={160}\n              height={180}\n            ></img>\n          </div>\n          <h2>\n            {getTitle(movie)} <span>({getYear(movie)})</span>\n          </h2>\n          <p>User Score: {getUserScore(movie.vote_average)}</p>\n          <h3>Owerview</h3>\n          <p>{getOwerviev(movie.overview)}</p>\n          <h3>Genre</h3>\n          <p>{getGenre(movie.genres)}</p>\n        </Wrapper>\n      ) : (\n        <Wrapper>\n          <div>\n            <img src={defaultPoster} alt=\"poster\" width={160} height={180}></img>\n          </div>\n          <h2>\n            Title <span>(....)</span>\n          </h2>\n          <p>User Score: ...%</p>\n          <h3>Owerview</h3>\n          <p>...</p>\n          <h3>Genre</h3>\n          <p>...</p>\n        </Wrapper>\n      )}\n      {errorServer && <h2>Server response error</h2>}\n      <WrapperUl>\n        <h3>Additional information</h3>\n        <li>\n          <LinkMovie to=\"cast\">Cast</LinkMovie>\n        </li>\n        <li>\n          <LinkMovie to=\"reviews\">Reviews</LinkMovie>\n        </li>\n      </WrapperUl>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\n\nMovieDetails.propTypes = {\n  movieId: PropTypes.string,\n};\n\nexport default MovieDetails;\n"],"names":["fetchMovieDetails","id","options","method","headers","accept","Authorization","axios","result","GoBack","styled","Link","Wrapper","LinkMovie","WrapperUl","useState","movie","setMovie","statusPending","setStatusPending","errorServer","setErrorServer","linkBack","setLinkBack","movieId","useParams","location","useLocation","useEffect","state","from","goBack","then","data","genres","overview","userScore","getTitle","title","name","to","src","backdrop_path","poster_path","defaultPoster","getImg","alt","width","height","release_date","first_air_date","split","slice","join","getYear","vote_average","toFixed","map","genre","Suspense","fallback"],"sourceRoot":""}