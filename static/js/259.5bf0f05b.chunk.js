"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[259],{259:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r,a,u=n(439),i=n(791),s=n(87),c=n(689),o=n(168),l=n(686),h=l.Z.ul(r||(r=(0,o.Z)(["\nlist-style: none;\n"]))),d=(0,l.Z)(s.rU)(a||(a=(0,o.Z)(["\ntext-decoration: none;\ncolor: rgb(99, 18, 18);\n&:hover {\n    color: rgb(140, 81, 81);;\n}\n"]))),f=n(184),p=function(e){var t=e.movies,n=(0,c.TH)();return(0,f.jsx)(h,{children:t.map((function(e){var t;return(0,f.jsx)("li",{children:(0,f.jsxs)(d,{to:"".concat(e.id),state:{from:n},children:[" ",(0,f.jsx)("h3",{children:null!==(t=e.title)&&void 0!==t?t:e.name})]})},e.id)}))})},v=n(861),m=n(687),j=n.n(m),x=n(243),g=function(){var e=(0,v.Z)(j().mark((function e(t){var n,r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1YWI4YTU2N2U4NTIwYjJkOTYxNmQyYjU1NGY1MGI4MyIsInN1YiI6IjY0Nzg5MDY0MDc2Y2U4MDEwNzliOGMxNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.2ia6cdeIOjpNaTQl8aCiS1rstAtEfICJgybU1GCz5mQ"}},e.prev=1,e.next=4,x.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&include_adult=false&language=en-US&page=1"),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),y=g,I=function(){var e=(0,i.useState)(""),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(null),c=(0,u.Z)(a,2),o=c[0],l=c[1],h=(0,s.lr)(),d=(0,u.Z)(h,2),v=d[0],m=d[1],j=(0,i.useState)(!1),x=(0,u.Z)(j,2),g=x[0],I=x[1],b=(0,i.useState)(!1),Z=(0,u.Z)(b,2),N=Z[0],J=Z[1],S=(0,i.useState)(!1),Y=(0,u.Z)(S,2),C=Y[0],k=Y[1];(0,i.useEffect)((function(){var e=v.get("query");return null===e?(I(!1),void k(!1)):(y(e).then((function(e){e&&0!==e.data.results.length?(l(e.data.results),I(!0),k(!1)):0===e.data.results.length?k(!0):e||J(!0)})),function(){I(!1),k(!1),J(!1)})}),[v]);var w=function(e){m(""!==e?{query:e}:{})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(n.trim()),r("")},children:[(0,f.jsx)("label",{children:(0,f.jsx)("input",{type:"text",value:n,onChange:function(e){var t=e.target.value;r(t)}})}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),g&&(0,f.jsx)(p,{movies:o}),C&&(0,f.jsxs)("h2",{children:["We don't have any movies by string \"",v.get("query"),'"']}),N&&(0,f.jsx)("h2",{children:"Server response error"})]})}}}]);
//# sourceMappingURL=259.5bf0f05b.chunk.js.map